{% load static %}
{% load format_filters %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content="60">
    <title>Resumo da Corrida</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container my-5">
    <h1 class="mb-4">Resumo da Corrida</h1>

    {% if resumo %}
    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover align-middle">
            <thead class="table-dark">
                <tr>
                    <th>Nome</th>
                    <th>Número</th>
                    <th>Categoria</th>
                    <th>Voltas</th>
                    <th>Pontos Perdidos</th>
                    <th>Tempo Total Real</th>
                </tr>
            </thead>
            <tbody>
                {% for p in resumo %}
                <tr>
                    <td>{{ p.nome }}</td>
                    <td>{{ p.numero }}</td>
                    <td>{{ p.categoria }}</td>
                    <td>{{ p.voltas }}</td>
                    <td>{{ p.pontos }}</td>
                    <td>{{ p.tempo_real|format_timedelta_hms_ms }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
        <div class="alert alert-warning">Nenhum dado disponível no momento.</div>
    {% endif %}
</div>

</body>
</html>
